## 리팩터링 체크리스트

### 문제점 및 해결방안

- 미흡한 MVC 패턴 적용
    - [x] 사용자가 View를 통해 직접 입력을 받도록 설계됨
        - 개선: 사용자는 Controller에게 명령하고, Controller가 View에게 입력을 요구하도록 함
        - ~~사용자는 Controller에게만 명령을 내리는 것이고, Controller는 필요하다면 View를 통해 입력을 받고, 출력을 제공해야 한다.~~
        - ~~개선방향: View에서 직접 받는 입력을 Controller로 이전~~
    - [x] View가 아닌 Model에서 사용자에게 출력해주고 있음
        - 개선: Model은 데이터를 생성하고, Controller를 통해 View에 전달하여 출력
        - ~~게임의 결과를 계산해서 바로 출력하려고 해서 생긴 문제~~
        - ~~개선방향: Model에서 결과를 보내주면 View에서 그것을 출력~~
- RacingGame 클래스 구조
    - [x] 과도한 책임, 낮은 응집도
        - 개선: RacingGame(게임 진행)과 CarManager(자동차 관리)로 클래스 분할
        - ~~필요한 기능의 규모를 처음에 파악하지 못함~~
        - ~~개선방향: 적절한 수준에서 클래스 분할~~
    - [ ] 복잡하고 지저분한 기능 구현
        - 개선방향: 메소드 구조 개선(간결한 계산 방법)
    - [x] 경주에 사용되는 자동차 목록 관리
        - 개선: RacingGame(게임 진행)과 CarManager(자동차 관리)로 클래스 분할
        - ~~1,2번 문제의 원인으로 생각됨(기능 분산, 복잡한 코드 유발)~~
        - ~~개선방향: 별개의 클래스로 분리~~
- Car 클래스 구조
    - [x] 구조가 외부에 너무 많이 노출되어 있음(getter)
        - 개선: Car의 DTO(Data Transfer Object)를 사용해 getter 제거, 캡슐화
        - ~~개선방향: 외부에서 구조에 접근할 수 없도록 캡슐화 필요~~

- 그 외
    - [x] 매직 넘버 제거
    - [x] 불필요한 인스턴스 사용 줄이기
        - 상태를 저장할 필요가 없는 클래스는 static 메서드, 변수 사용
    - [ ] 원시 타입 포장
        - 원시 타입: int 등 기본 자료형
        - Car 객체의 moves를 원시 타입 그대로 사용되고 있음
        - 개선방향: Moves(또는 Position)라는 객체를 만들어 Moves가 직접 관리하도록 설계
    - [ ] 도메인 개념 적용
        - 원시 값 포장을 공부하다 도메인 개념에 대해 알게 됨
        - 도메인: 비즈니스 로직을 처리하는 데 연관된 객체
        - 레이싱카 게임에서는 Car 객체, 그리고 Car 객체가 갖는 moves가 해당
        - 개선방향: Car 객체와 moves 객체를 별도로 도메인으로 관리할 것
    - [ ] 일급 콜렉션
        - 콜렉션을 포함한 클래스가 다른 멤버 변수를 가지지 않는 것(하나의 필드만 존재)
        - 콜렉션에 대한 로직을 일급 콜렉션 내에 캡슐화 하기 위해 사용
        - 현재 List<Car> cars를 포함하는 CarManager가 여러 필드를 가지고 있음
        - 개선방향: List<Car> cars를 관리하는 새로운 클래스로 분리 필요
