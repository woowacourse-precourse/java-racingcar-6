# 기능 명세

## 게임 매니저

- 게임 매니저는 입력 매니저와 출력 매니저를 가진다.
- 게임 매니저는 자동차 경주를 시작한다.
- 게임 매니저는 게임을 구성한다.
    - 게임 매니저는 게임에 필요한 자동차를 생성한다.
        - 게임 매니저는 출력 매니저에게 자동차 입력에 필요한 문구 출력을 요청한다.
        - 게임 매니저는 입력 매니저로부터 자동차 이름을 입력받는다.
        - 게임 매니저는 자동차 이름을 바탕으로 자동차를 생성한다.
    - 게임 매니저는 게임에 필요한 경주 횟수를 입력받는다.
        - 게임 매니저는 출력 매니저에게 경주 횟수 입력에 필요한 문구 출력을 요청한다.
        - 게임 매니저는 입력 매니저로부터 경주 횟수를 입력받는다.
    - 게임 매니저는 게임 참여 자동차, 경주 횟수를 바탕으로 게임을 생성한다.
- 게임 매니저는 게임을 플레이 시킨다.
- 게임 매니저는 게임 종료 시 게임으로부터 게임 결과를 받는다.
    - 게임 매니저는 출력 매니저에게 게임 결과 출력을 요청한다.
- 게임 매니저는 예외가 발생하면 `IllegalArgumentException`을 발생시킨다.
    - 만약 `IllegalArgumentException` 이 발생했다면 그대로 던진다.
    - 만약 그 외의 예외가 발생했다면 `IllegalArgumentException`을 발생시킨다.

## 입력 매니저

- 입력 매니저는 사용자로부터 자동차 이름 목록을 입력받는다.
    - 입력 매니저는 자동차 이름을 쉼표 기준으로 파싱한다.
- 입력 매니저는 사용자로부터 경주 횟수를 입력받는다.
    - 경주 횟수는 정수이다.
    - 경주 횟수가 정수가 아닐 경우, 예외를 발생시킨다.

## 출력 매니저

- 출력 매니저는 자동차 이름 입력에 필요한 문구를 출력한다.
- 출력 매니저는 경주 횟수 입력에 필요한 문구를 출력한다.
- 출력 매니저는 게임 결과를 출력한다.
    - 출력 매니저는 경주 히스토리를 출력한다.
        - 출력 매니저는 경주 히스토리의 경주 스냅샷을 출력한다.
    - 출력 매니저는 게임 우승자를 출력한다.

## 게임

- 게임은 게임에 참여하는 자동차들을 가진다.
    - 참가 자동차 수는 2 이상이다. 그렇지 않으면 예외를 발생시킨다.
- 게임은 경주 횟수를 가진다.
    - 경주 횟수는 1 이상의 정수이다.
    - 경주 횟수가 1 이상이 아닐 경우, 예외를 발생시킨다.
- 게임은 경주 히스토리를 가진다.
    - 경주 히스토리는 경주 스냅샷의 리스트이다.
    - 경주 스냅샷은 현재 경주 단계와 모든 자동차의 스냅샷을 가진다.
- 게임은 게임을 시작할 수 있다.
- 게임은 게임 시작 후 경주 횟수만큼 자동차에게 전진 요청을 한다.
    - 경주 후 현재 자동차들의 스냅샷을 경주 히스토리에 추가한다.
- 게임은 게임을 종료할 수 있다.
    - 게임은 모든 경주가 끝나면 게임을 종료한다.
    - 게임은 게임 종료 시 우승자를 결정한다.
- 게임은 게임 종료 시 게임 결과를 반환한다.
    - 게임 결과는 경주 히스토리와 게임 우승자를 포함한다.

## 자동차

- 자동차는 빈 문자열이 아닌, 5자 이하의 이름을 가진다.
    - 올바르지 않은 이름으로 자동차를 생성할 경우, 예외를 발생시킨다.
- 자동차는 전진 가능여부를 가진다.
    - 전진 가능여부는 0~9 사이의 랜덤값이 4 이상일 경우 참이 되고, 그 외는 거짓이 된다.
- 자동차는 전진 요청을 받으면 전진 가능여부에 따라 전진하거나 정지한다.
    - 전진했다면, 주행거리를 1 증가시킨다.
- 자동차는 주행거리를 가진다.
    - 초기 주행거리는 0이다.
