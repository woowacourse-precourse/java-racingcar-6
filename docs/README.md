# 2주차: 자동차 경주 기능 요구사항

---
## 자동차 경주 시작 단계
### 1. 자동차 이름 입력 및 저장 기능
#### (1) InputView 클래스
* `경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)` 메시지 출력 후 개행
* 입력값: 경주할 자동차들의 이름을 나열한 문자열
  * `자동자1,자동차2,자동차3,...`과 같은 형식으로 입력
  * 입력값이 빈 문자열인 경우 유효성 검사 수행
    * 빈 문자열일 시 IllegalArgumentException 발생 후 애플리케이션 종료
#### (2) Car 클래스
* 입력된 문자열에 대해 자동차 이름 전용 1차 유효성 검사 수행
  * 유효성 검사 통과 시 문자열을 쉼표(,)로 파싱
  * 유효성 검사를 통과한 문자열에 쉼표가 없으면 그 자체를 하나의 토큰으로 취급
  * 문자열 파싱 후 생성된 토큰을 자동차 이름으로 취급
* 입력된 전체 문자열이 자동차 이름 전용 1차 유효성 검사를 통과하면 문자열 파싱 실시
  * 생성된 문자열 토큰 1개 = 자동차 이름 1개
* 개별 자동차 이름에 대해 자동차 이름 전용 2차 유효성 검사 실시
* 2차 유효성 검사를 통과한 자동차 이름일 경우 Map<String, Integer>에 저장
  * String: 문자열 토큰(유효한 자동차 이름) 저장
  * Integer: 전진 횟수 저장, 초기값은 0
  * Map의 데이터는 자동차 이름의 입력 순서대로 저장

### 2. 전진 시도 횟수 입력 및 저장 기능
#### (1) InputView 클래스
* `시도할 횟수는 몇회인가요?` 메시지 출력
* 입력값: 전진 시도할 횟수를 문자열로 입력
* 입력값이 빈 문자열인 경우 유효성 검사 수행
  * 빈 문자열일 시 IllegalArgumentException 발생 후 애플리케이션 종료
#### (2) Rounds 클래스
* 입력값에 대해 전진 시도 횟수 전용 유효성 검사 수행
* 모든 유효성 검사 통과 시 문자열을 정수값으로 변환
* 변환된 정수값은 라운드수로 취급

### 3. 유효성검사 기능(Validation 클래스)
#### (1) 자동차 이름 전용 1차 유효성 검사 기능
* 쉼표(,) 및 공백문자를 잘못 사용했는지 검사
* 입력된 전체 문자열에 쉼표(,)가 하나라도 포함되었을 시 다음 사항들을 검사
  * 입력된 전체 문자열이 ,로 시작하거나 ,로 끝나지 않는지 검사
    * (예시: `,자동차명2,자동차명3` 또는 `자동차명1,자동차명2,`)
  * 쉼표가 연속으로 입력되었는지 검사
    * (예시: `자동차명1,,자동차명3`)
* 전체 문자열의 처음과 마지막, 혹은 쉼표들 사이에 포함된 공백문자 검사
  * 자동차 이름의 첫글자나 마지막 글자가 공백문자인지 검사
  * 자동차 이름에서 공백문자가 연속으로 사용되었는지 검사
  * (예시: `자동차명1, ,자동차명3`, `자동차명1,자동차명2, `)
* 잘못된 입력값 발생 시 IllegalArgumentException 발생 후 애플리케이션 종료
#### (2) 자동차 이름 전용 2차 유효성 검사 기능
* 문자열 파싱 후 생성된 자동차이름 토큰 검사
* 1차 유효성 검사를 통과한 문자열을 파싱한 후 생성된 토큰(자동차 이름 1개)을 검사
  * 쉼표가 없는 문자열이면 그 자체를 1개의 토큰으로 취급
* 자동차 이름 1개당 다음 사항들을 검사
  * 자동차 이름 1개의 길이가 최소 1글자, 최대 5글자인지 검사
  * Map의 key로 저장되지 않은 새로운 자동차 이름인지 검사
* 유효하지 않은 자동차 이름일 경우 IllegalArgumentException 발생 후 애플리케이션 종료
* 1개의 자동차 이름이 2차 유효성 검사를 통과한 경우 Map의 새로운 key로 추가
#### (3) 전진 시도 횟수 전용 유효성 검사 기능
* 입력값에 대해 다음 사항에 관한 유효성 검사 실시
  * 입력된 문자열이 빈 문자열인지 검사
  * 문자열이 정수로 변환 가능한지 검사
  * 변환된 정수값이 0이나 음수가 되는지 검사
  * 잘못된 입력 발생 시 IllegalArgumentException 발생 후 애플리케이션 종료

---  
## 자동차 경주 진행 단계
### 1. 차수별 자동차의 전진 여부 결정 기능(Racing 클래스)
* 한 라운드에서는 각각의 자동차마다 다음 작업 수행
  * 0~9 사이의 무작위 값 생성
  * 생성된 값이 4 이상이면 해당 자동차의 전진횟수 1 증가
  * 생성된 값이 4 미만이면 해당 자동차의 전진횟수 증가 없음
* 입력된 시행 횟수만큼 라운드 반복

### 2. 차수별 실행 결과 출력 기능(OutputView 클래스)
* 실행 결과 출력 전 `실행 결과` 메시지 출력 후 개행
* 현재 차수에서의 각 자동차별 전진 횟수 출력
  * 각 자동차마다 `자동차명 : ` 출력에 이어서 해당 자동차의 전진 횟수만큼 `-`를 출력 후 개행
  * 출력예시: `pobi`의 현재 차수에서의 전진횟수가 2이면 `pobi : --`로 출력
* 각 차수별 출력결과 사이에 빈 줄 출력
* 입력했던 시도 횟수만큼 반복 출력

---
## 자동차 경주 종료 단계
### 1. 최종 우승자 선정 기능(Racing 클래스)
* 자동차이름별 전진횟수를 저장한 Map<String, Integer>에서 전진횟수의 최대값 구하기
* 최종 우승자: Map에서 전진횟수의 최대값을 갖는 자동차 이름(들)
  * 해당하는 자동차 이름은 String 배열 등에 입력된 순서대로 저장
  * 입력 순서를 유지해야 하므로 Map 정렬은 수행하지 않음

### 2. 최종 우승자 출력 기능(OutputView 클래스)
* `최종 우승자 : ` 메시지 출력 후 최종 우승한 자동차 이름을 입력된 순서대로 출력
  * 최종 우승자가 1명인 경우: `최종 우승자 : pobi` 꼴로 출력
  * 최종 우승자가 2명 이상인 경우: `최종 우승자 : pobi, jun` 꼴로 출력

---
## 테스트 목록 정리
### 1. 자동차 경주 시작 단계
#### (1) 자동차 이름 입력 기능 검증
  * CarTest, InputTest, ValidationTest 클래스
  * 자동자 이름에 관한 잘못된 입력값에 대해 IllegalArgumentException이 발생하는지 확인
  * 입력된 문자열 내 쉼표(,) 유무에 관계없이 유효한 문자열 토큰(자동차 이름)이 Map에 정상적으로 저장되는지 확인
  * 모든 유효성 검사 통과 시 Map의 key로 저장된 자동차 이름이 입력 순서대로 저장되는지 확인
#### (2) 전진 시도 횟수 입력 기능 검증
  * RoundTest, InputTest, ValidationTest 클래스
  * 시도 횟수에 관한 잘못된 입력값에 대해 IllegalArgumentException이 발생하는지 확인
  * 문자열에 관한 유효성 검사 통과 후 반환된 정수값이 0이거나 음수일 때 IllegalArgumentException이 발생하는지 확인

### 2. 자동차 경주 진행 단계(RacingTest, OutputTest 클래스)
* Map에 저장된 어떤 자동차가 얻은 임의의 정수값이 4 이상이면 해당 자동차의 전진횟수가 1 증가되는지 검증
* 한 라운드에서의 실행 결과가 `자동차이름 : ` 출력 후 해당 자동차의 전진횟수만큼 `-`를 출력하는지 검증

### 3. 자동차 경주 종료 단계(RacingTest, OutputTest 클래스)
* Map에 저장된 자동차별 전진횟수의 최대값을 갖는 자동차가 최종 우승자 List에 저장되는지 검증
* List에 저장된 최종 우승자 명단의 순서가 Map에서의 순서와 일치하는지 검증
* 최종 우승자 출력 시 실행 결과대로 출력되는지 검증
  * 최종 우승자가 1명이면 `최종 우승자 : (자동차명1)`의 형식으로 출력
  * 최종 우승자가 n명(n > 1)이면 `최종 우승자 : (자동차명1), (자동차명2), ... , (자동차명n)`의 형식으로 이름 나열