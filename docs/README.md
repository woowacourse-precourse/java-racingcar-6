# ✅ 기능 목록

- 입력
    - [X] 자동차 이름 입력받기
        - [X] 이름으로 공백을 입력하면 예외 발생
            - [X] 각 이름 앞 뒤로 공백 제거
            - [X] 자동차 이름이 1개일 경우 예외 발생
            - [X] 이름이 중복되면 예외 발생
            - [X] 이름이 5글자 초과시 예외 발생
        - [X] 게임 횟수 입력받기
            - [X] 문자이면 예외 발생
            - [X] 숫자인데 0 또는 음수이면 예외 발생
- 출력
    - [X] 실행 결과 출력문 출력
    - [X] 각 게임 횟수별 출력
    - [X] 최종 우승자 출력
- [X] 0 - 9 사이의 값 추출
- [X] 추출된 값이 4 이상인지 확인(전진 가능한지)
- [X] 자동차 전진
- [X] 우승자 선별
    - 가장 이동 횟수가 많은 자동차가 우승
    - 이때 해당 횟수 이동이 여러 자동차에게 있을 수 있음

# ✅ 설계

## controller

### RaceController

- 객체에 대한 로직은 각 객체 내부에서 수행되기 때문에 controller는 특정 비즈니스 로직을 수행하기보다는 객체들의 협력을 이어주는 역할을 합니다.
- 생성자로 view에 대한 의존성을 주입받습니다. 이때 타입이 인터페이스이기 때문에 향후 view에 대한 구현체가 변경되어도 RaceController의 코드는 수정하지 않아도 됩니다.

## domain

### PlayCount

- 게임 횟수를 의미합니다.
- 사용자가 입력한 게임 횟수에 대해 검증합니다.
- 게임을 계속 진행할지를 결정합니다.

### Cars

- 경주에 참여하는 자동차들을 의미합니다.
- 사용자가 입력한 복수의 자동차 이름에 대한 검증을 진행합니다.
    - 공백이 포함된 경우 예외 발생 (ex, “pobi, woni, “, “pobi, woni,”)
    - 자동차 이름이 1개만 입력된 경우 예외 발생 (ex, “pobi)
    - 자동차 이름이 중복되면 예외 발생 (ex, “pobi, pobi”)
- 의존관계를 명확히 드러내기 위해, 메서드 내에서 RandomNumberGenerator의 인스턴스를 불러와서 사용하지 않고, 생성자를 통해 RandomNumberGenerator 객체를 주입받도록 구현했습니다.

### Car

- 경주에 참여하는 각각의 자동차를 의미합니다.
- 랜덤 값에 따라 전진 또는 정지합니다.

### Name

- Car 객체의 필드인 자동차 이름을 Wrapping 하는 객체입니다.
- 사용자가 입력한 각각의 자동차 이름에 대한 검증을 진행합니다.
    - 자동차 이름이 5글자 초과이면 예외 발생 (ex, “pobiii”)

### Position

- Car 객체의 필드인 자동차 위치를 Wrapping 하는 객체입니다.
- 자동차 위치 값을 증가시켜 전진합니다.
- 다른 Position 인스턴스와 비교하여 자동차의 위치 값이 가장 큰 값을 찾습니다. 이때 자바의 Comparable 인터페이스를 구현하고 compareTo 메서드를 재정의했습니다.
- 다른 Position 인스턴스와 비교하여 두 Position의 위치 값이 같은지 확인합니다.

### Winners

- 생성자의 파라미터로 자동차 리스트를 받아서, 가장 위치 값이 큰 자동차들을 상태 값으로 갖습니다.

### RandomNumberGenerator

- 랜덤 값을 생성하는 객체입니다.
- 각 인스턴스가 별개의 값을 가질 필요가 없기 때문에 싱글톤으로 구현했습니다.

## dto

### CarDto

- 자동차의 상태 값을 view로 출력하기 위해 필요한 DTO 객체입니다.

## view

### ConsoleInputView, ConsoleOutputView

- 각 인스턴스가 별개의 값을 가질 필요가 없기 때문에 싱글톤으로 구현했습니다.

### InputView, OutputView

- 정적 클래스가 아닌 싱글톤 패턴을 사용하면 인터페이스 구현이 가능합니다. 따라서 인터페이스 타입을 파라미터로 받는 생성자를 두면, 구현체가 변경되었을 때 유연하게 대처할 수 있습니다. 따라서 이러한 이점을 살리기
  위해 InputView, OutputView 인터페이스를 생성하고, ConsoleInputView와 ConsoleOutputView는 각 인터페이스를 구현합니다.
- 따라서 향후 구현체가 변경되더라도 RaceController의 생성자는 인터페이스 타입을 매개변수로 받기 때문에 코드를 수정하지 않아도 됩니다.

# ✅ 회고

- https://velog.io/@dlthgml0108/%EC%9A%B0%ED%85%8C%EC%BD%94-%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4-2%EC%A3%BC%EC%B0%A8-%ED%9A%8C%EA%B3%A0
