# 프리코스 2주차 - 자동차 경주

## 🏎️ 개요

- 우테코 프리코스 2주차 과제인 자동차 경주를 구현한다.
- 미션 세부 내용은 [우테코 프리코스 저장소](https://github.com/woowacourse-precourse/java-racingcar-6)에서 확인 가능하다.

## 🤖 로직 분석

1. 프로그램이 시작되면 문구와 함께 사용자로부터 자동차 이름을 쉼표로 구분하여 입력받는다.
    - 이름은 5자 이하만 가능하다.
        - 5자를 초과하거나 0자인 경우 `IllegalArgumentException`을 발생시킨다.
    - 이름에 공백은 들어갈 수 없다.
        - 공백이 들어갈 경우 `IllegalArgumentException`을 발생시킨다.
2. 문구와 함께 사용자로부터 시도 횟수를 입력받는다.
    - 시도 횟수는 1 이상의 자연수여야 한다.
        - 잘못된 입력이 들어올 경우 `IllegalArgumentException`을 발생시킨다.
3. 입력받은 자동차 이름을 바탕으로 `Car` 클래스를 동적 할당한다.
    - `Car` 클래스에는 **이름**과 **현재 이동한 거리**를 상태로 가지고 있고, **전진 메서드** 및 **현재 상태 출력** 메서드가 구현되어 있다.
4. 입력받은 시도 횟수만큼 각각 Car를 움직인다.
    - 각 시도 횟수마다 움직일 확률은 **6/10**이다.
        - 확률 계산은 `camp.nextstep.edu.missionutils.Randoms`의 `pickNumberInRange()`를 활용한다.
5. 시도 횟수만큼 움직인 후 최종 결과를 도출한다.
    - 가장 많이 움직인 자동차가 우승한다.
    - 우승자가 여러 명일 경우, 공동 우승으로 하고 쉼표로 구분하여 출력한다.

## 🤔 고려사항

### 자동차 이름의 기준은?

- 문제에서 제시한 자동차 이름은 **5자 이하만 가능**하다는 조건 뿐이다.
- 그러나 단순히 5자 이하의 이름을 전부 허용한다면 다양한 문제를 야기할 수 있다.

#### 공백 문자의 처리 여부

- 탭, 스페이스와 같은 공백 또한 하나의 문자로 취급된다.
- 물론 공백도 문자이기 때문에 `c at`와 `ca t`는 엄연히 다른 이름이지만, 사람이 보았을 때 이는 헷갈리기 쉬운 이름이다.
- 따라서 5자 이하의 이름이더라도 **공백이 포함된 문자열로 입력**된다면 `IllegalArgumentException`을 발생시키도록 한다.

---

### 동점자들간의 이름 출력 순서는?

- 본 게임에서는 게임 종료 시점 최고점을 달성한 사람이 다수일 경우 쉼표로 구분하여 출력해야 한다.
- 이 때, 출력의 방법만 정해졌을 뿐 출력의 순서는 정해지지 않았다.
- 알파벳 순서로 출력하는 방법과 입력 순서대로 출력하는 방법을 생각할 수 있다.
    - 알파벳 순서로 출력할 경우: 이름 순서로 정렬하는 과정이 필요해 시간이 들지만 보기에 편하다.
    - 입력 순서로 출력할 경우: 정렬 과정이 따로 필요하지 않지만 사람이 많아질 경우 한 눈에 찾기가 힘들다.
- **입력 순서로 출력**하여 실행 시간을 최소화하도록 하자.

## 📝 구현 기능 목록

- [X] 상수들을 관리하기 위한 Enum Class 생성
    - [X] 콘솔에 출력할 메세지를 관리할 클래스 - `Console`
    - [X] 최대 글자 수와 같이 게임 진행과 관련된 상수들을 관리할 클래스 - `Game`
    - [X] 사용자가 입력한 값들의 유효성을 검증하기 위해 사용할 정규식을 관리할 클래스 - `Validator`
    - [X] `IllegalArgumentException`을 발생시킬 때 보여 줄 메세지를 관리할 클래스 - `ExceptionType`
- [X] 0~9 사이의 무작위 수를 생성하는 유틸 클래스 생성 - `RandomNumberGenerator`
- [X] 5글자 이하의 이름을 가지는 자동차 클래스 생성 - `Car`
    - [X] 자동차는 전진하면 1만큼의 거리를 움직인다. - `Car#move()`
    - [X] 현재 거리에 따라 자신의 정보를 출력할 수 있다. - `Car#toString()`
- [X] 자동차들을 묶어서 관리할 경주 클래스 생성 - `Race`
    - [X] 시간마다 자동차들을 전진시킬 수 있다. - `Race#moveCars()`
        - [X] 0~9 사이의 무작위 숫자를 뽑아 4 이상이 나오면 전진시킨다.
    - [X] 시간마다 자동차들의 상태를 출력할 수 있다. - `Race#printStatus()`
    - [X] 게임 종료 후 우승자를 출력할 수 있다. - `Race#printWinner()`
- [X] 게임의 흐름을 관리할 클래스 생성 - `RacingGame`
    - [X] 사용자로부터 이름들을 입력받을 수 있다. - `RacingGame#nameInputRequest()`
        - [X] 입력받은 이름들로 자동차 클래스를 동적 할당한다. - `RacingGame#entryCars()`
    - [X] 사용자로부터 시도 횟수를 입력받을 수 있다. - `RacingGame#roundInputRequest()`
        - [X] 입력받은 시도 횟수와 자동차 클래스들로 경주 클래스를 동적 할당한다. - `RacingGame#start()`

## ✅ 구현 테스트 목록

- [X] 콘솔에 출력하고자 하는 메세지가 올바른가? - `ConsoleTest`, `ExceptionTypeTest`
- [X] 게임 내 다룰 상수들이 올바르게 입력되어 있는가? - `ExceptionTypeTest`
- [X] 올바른 입력과 올바르지 않은 입력에 대해 적절한 검사를 수행하는가? - `ValidatorTest`
- [X] 자동차가 전진했을 때 올바르게 상태가 출력되는가? - `CarTest`
- [X] 사용자의 입력에 대한 예외 처리와 공동 우승자에 대한 출력이 올바른가? - `RacingGameTest`
