## 🏎️ FLOW

-----

1. 사용자에게 게임을 진행하는 시간을 입력받는다.
- 주어진 숫자 동안 N 대의 자동차는 전진 또는 정지를 할 수 있다.
</br></br>
2. 각 자동차의 이름을 지정한다.
- 지정한 이름은 전진하는 자동차를 출력할 때 사용되어야 한다.
- 자동차 이름은 쉼표(,)를 기준으로 구분한다.
    - **자동차의 이름이 중복된다면 예외 발생**
- 자동차의 이름은 5자 이하여야 한다.
    - **자동차의 이름이 5자가 넘어가거나 0보다 작을 시에 예외 발생**
</br></br>
3. 사용자에게 전진 횟수(몇 번의 이동을 할 것인지)를 입력 받는다을 할 것인지 입력받는다.
    - 다만 입력받는다는 것은 예시일 뿐, 실제 전진 횟수는 무작위(임의의 값)로 초기화된다.
        - **범위는 0 ~ 9이며 이를 벗어나는 경우는 예외 발생**
            - E.g. -1, 10, 100, ...
    - 자동차가 전진하는 조건은 임의의 값이 4 이상인 경우이다.
</br></br>
4. 입력받은 수만큼 자동차는 전진 또는 정지한다.
    - 전진 또는 정지하는 과정을 보여준다.
</br></br>
5. 1번에서 주어진 횟수가 종료된 후, 우승자를 발표한다.
    - 이때, 우승자(자동차 이름)는 한 명 이상일 수 있다.
        - 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.


🔍 요구 사항 분석
-----
- 게임이 진행되는 시간을 입력받는다.
    - [X] 사용자에게 숫자를 입력받는다.
      - [X] 숫자는 0보다 작을 수 없다.
      - [X] 숫자가 아닌 입력이 들어올 수 없다.
</br></br>
- 자동차의 이름을 지정한다.
    - [X] 자동차에 이름 부여한다.
    - [X] 5자 이하의 이름인지 확인한다.
        - [X] 0보다 작거나 5보다 큰 숫자인지 확인한다. -> 예외 발생
    - [X] 입력받은 자동차를 쉼표로 구분한다.
      - 중복된 이름의 자동차가 있는지 확인한다. -> 예외 발생
</br></br>
- 전진 횟수를 입력받는다.
    - [X] 0에서 9 사이의 임의의 수를 입력받는다.
        - [X] 임의의 수가 1보다 작거나 9보다 큰지 확인한다. -> 예외 발생
    - [X] 4 이상의 숫자일 시 전진한다.
    - [X] 3 이하의 숫자일 시 정지한다.
</br></br>
- 자동차를 전진시킨다.
    - [X] 움직일 수 있는 경우 전진시킨다.
</br></br>
- 게임 진행 상태를 보여준다.
    - [X] 자동차의 위치를 보여준다.
</br></br>
- 경기 종료 후, 우승자를 발표한다.
    - [X] 가장 멀리 간 자동차를 선택한다.
        - [X] 가장 멀리 간 자동차가 복수일 경우, 모든 차를 선택한다.

📋 기능 명세서
-----
### Model
- Car
  - 입력받은 자동차들을 관리
</br></br>
- GameService
  - CarService 호출
  - 경기 진행 비즈니스 로직을 수행
  - ~~우승자를 선택하는 로직을 수행~~
    </br></br>
- ~~CarService~~
  - ~~Move 호출~~
  - ~~자동차의 전진 또는 정리를 수행~~
</br></br>
- Movable
  - 랜덤한 값을 생성하여 자동차의 전진 또는 정지를 정함
</br></br>
- InputManager
  - InputCars와 InputProgressCount를 관리
</br></br>
- InputCars
  - 입력받은 자동차를 처리 -> Cars로 관리
</br></br>
- InputProgressCount
  - 입력받은 게임 진행 횟수를 처리
</br></br>
- Cars
  - 입력받은 자동차들을 한 번에 관리하기 위함
  - 우승자를 선택하는 로직을 수행
  - 모든 자동차를 이동시키는 로직을 수행
</br></br>
- CarsDTO
  - Controller, Service, View 사이에 데이터 전달을 위해 생성
  
### View
- InputView
  - 사용자에게 자동차를 입력받아 InputCars에게 전달
  - 사용자에게 게임 진행 시간을 입력받아 InputProgressCount에게 전달
</br></br>
- OutputView
  - GameController에서 전달된 경기 내용을 출력
  - GameController에서 전달된 경기 결과를 출력

### Controller
- GameController
  - 한 번의 게임을 진행
  - InputManager 호출
  - GameService 호출
  - GameService에서 처리된 데이터를 OutputView로 전달
</br></br>
- ~~InputController~~
  - ~~InputView로 들어온 게임 진행 횟수를 InputManager로 전달~~
  - ~~InputView로 들어온 자동차를 InputManager로 전달~~

📢 변경점
-----
- 자동차를 관리하는 Cars 클래스 추가
  - 자동차 객체 Car를 한 번에 관리하는 클래스를 생성해야하는 필요성을 느낌
</br></br>
- 자동차 이름이 중복되는 경우 예외 발생
  - 동일한 자동차를 존재하지 않는다는 가정을 하고 구현하려고 했으나, 만약 존재할 경우 Unique한 식별이 없으면 Car 객체를 관리할 수 없다 판단하여 추가
</br></br>
-  CarService의 필요성이 없어짐
   - CarService에서 사용할 로직이 모두 Model 객체에서 처리할 수 있을 것이라 판단
   - ~~추후 리팩토링 과정에서 다시 생각하기~~ -> 고려하지 않는다.
</br></br>
- 게임 진행 횟수가 숫자가 아닌 영어로 입력될 수도 있다.
    - 정규 표현식을 이용하여 예외 발생
</br></br>
- InputController의 필요성이 없어짐
  - InputManager로만 처리가 가능하다.
</br></br>
- 우승자를 선택하는 로직이 GameService -> Cars로 책임 변경
</br></br>
- 기존에는 OutputView에서 CarController를 통해 값을 받아 진행하려 했으나, 어플리케이션의 범위가 작아 GameController 하나로 통제
</br></br>
- 하나의 InputManager에서 두 개의 InputCars, InputTryCount로 나눠서 입력받고 생성자로 InputManager 생성
  - 하나의 InputManager로 관리하고 싶었으나, 자동차 입력과 게임 진행 횟수를 모두 입력해야 에외를 발생시킬 수 있는 문제 때문에 두 개의 Class로 분리
</br></br>
- CarsDTO 생성
  - 기존에는 Cars를 통해 각 계층간에 데이터를 주고 받았는데, 중간 계층이 존재하지 않아 데이터 변환 및 관리 측면에서 의존성이 너무 심함
  - 또한, 데이터 변경 방지 등과 같이 보안을 유지하기 위해 DTO 생성
</br></br>
- Service에서 게임 진행을 처리하고 View를 호출하는 과정에서 Controller를 통해 View를 호출하는 것으로 바꿈
  - CarsDTO 생성으로 인해 내부 로직을 처리하는 Service와 View와의 의존성을 감소시키도록 Contorller를 중간 게층으로 두게 바꿈

## ✅ Test
### Domian
- InputCarsTest
  - public void 자동차_입력_테스트() 
    - 자동차가 순차적으로 저장이 되는지 검증
    </br></br>
  - public void 자동차_공백_테스트() 
    - 자동차 리스트에 공백이 존재하는지 검증
    </br></br>
  - public void 자동차_이름_초과_테스트()
    - 리스트에 5글자를 넘어가는 자동차가 존재하는지 검증
      </br></br>
  - public void 자동차_중복_테스트()
    - 자동차 리스트에 중복이 존재하는지 검증
</br></br>
- InputProgressCountTest
  - public void 입력_횟수_스트링_숫자_변환_테스트()
    - 문자열으로 입력된 입력 횟수가 숫자로 변환이 되었는 지 검증
  </br></br>
  - public void 문자열_입력_예외_테스트()
    - 입력이 정수가 아닌 경우 예외 발생 검증
    </br></br>
  - public void 범위를_초과하는_입력_예외_테스트()
    - 0보다 작은 입력이 들어오는 경우 예외 발생 검증
</br></br>
- CarTest
  -  public void 자동차_생성자_테스트()
     - 자동차 생성자 검증
  </br></br>
  - public void 자동차_전진_후진_테스트()
    - 자동차의 전진과 후진이 되는지 검증
  </br></br>
  - public void 자동차_거리_출력_테스트()
    - 자동차 거리에 따른 출력이 되는지 검증
</br></br>
- CarsTest
  - public void 최대_거리_확인_테스트() 
    - 최대 거리가 정상적으로 반환되는지 검증
      </br></br>
  -  public void 최대_거리_자동차_반환_테스트()
     - 우승자가 복수일 경우 반환되는지 검증
</br></br>
- MovableTest  
  - public void 전진_테스트()
    -  4 이상에서 전진하는지 검증
  </br></br>
  - public void 정지_테스트()
    - 3 이하에서 정지하는지 검증
</br></br>
- RandomNumberGeneratorTest
  -  void 범위_숫자_확인_테스트()
     - 0부터 9까지 숫자가 발생하는 지 검증

### Service
- GameServiceTest
  - public void 레이스_시작_테스트()
    - 올바른 반환값으로 정상적으로 레이스가 시작되는지 검증
      </br></br>
  - public void 라운드_진행_테스트()
    - 라운드가 진행되는지 검증
  </br></br>
  -  public void 우승자_선택_테스트()
     - 우승자가 정상적으로 선택되는지 검증"
  </br></br>
  -  public void DTO_변환_테스트()
     - DTO 변환이 정확한지 검증