# <우아한테크코스 프리코스 2주차>

# 미션 - 자동차 경주

---

## 기능 요구 사항

- [x] 자동차 이름을 입력받는다.
  - 이름은 5글자 이하만 가능하며, 여러 이름이 있는 경우 쉼표로 구분하여 입력받는다.

- [x] 전진 횟수를 입력받고, 입력된 횟수만큼 차량을 전진시킨다.

- [x] 0 ~ 9 사이에서 랜덤값을 구한 뒤 이 값이 4 이상일 경우 차량을 전진시킨다.
  - 랜덤값은, 제공된 Randoms.pickNumberInRange를 사용한다.
  
- [x] 각 전진마다, 자동차 이름과 전진 상태를 출력한다. 전진 상태는 '-'로 표시한다.

- [x] 모든 차량의 전진이 끝나면, 우승자를 출력한다.
  - 우승자가 여러 명일 경우, 쉼표로 구분하여 출력한다. 

- [x] 사용자의 입력이 잘못된 경우, IllegalArgumentException을 발생시킨 후 앱을 종료한다.

---

## 기능 구현 사항

- [x] 모든 입력값에 대해 검증하는 Validator 클래스
  - CarName 클래스에서 사용되는 validateCarName은, 하나의 차량 이름의 길이가 0이거나, 5를 초과하는 경우 예외를 발생시킵니다.
  - CarLocation 클래스에서 사용되는 validateCarLocation은, 차량의 위치값이 음수인 경우 예외를 발생시킵니다.
  - InputProvider 클래스에서 사용되는 validateRaceCount는, 경주 횟수를 입력으로 받아 정확한 형식이 아닌 경우 예외를 발생시킵니다.
  - InputProvider 클래스에서 사용되는 validateNames는, 이름의 형식이 조건과 다른 경우 예외를 발생시킵니다.
  

- [x] 자동차의 이름과 위치값을 저장하는 Car 클래스
  - 위치값은 CarLocation 클래스로, 이름은 CarName 클래스로 포장
  - 생성자를 오버로딩하여, 문자열로 된 이름과, 숫자로 된 정수값을 생성자로 받으며, 이름만 넣는 경우 위치는 0으로 자동으로 생성됩니다.
  - moveForward는 입력된 숫자가 조건인 4 이상인 경우 CarLocation 클래스의 increaseLocation을 호출합니다.
  

- [x] 자동차의 위치를 저장하는 CarLocation 클래스 
  - 입력된 위치값이 음수인지를 추가적으로 검증합니다.
  - 숫자를 입력받아, 입력된 숫자가 4보다 크면 위치값을 1 증가시킵니다.


- [x] 자동차의 이름을 저장하는 CarName 클래스
  - 입력된 이름이, 1글자에서 5글자인지를 추가적으로 검증합니다.


- [x] 여러 자동차를 저장하는 Cars 클래스
  - 차량 갯수만큼의 숫자 리스트를 받아, 각 숫자를 대응되는 순서의 Car 객체의 moveForward에 입력하여 모든 차량을 전진시키는 race()
  - 자동차 중, 가장 많이 전진한 차량의 위치를 얻어내는 getMaxLocation() 
  - getMaxLocation()을 이용하여 우승자 리스트를 리턴하는 findWinners() 
  

- [x] 경주 결과 정보를 저장하는 RaceResult 클래스
  - List<Car>를 받아, 현재의 차량 이름과 전진 상태를 문자열로 리턴하는 getRaceProgress() 
  - getRaceProgress()에서 사용되는, Car 객체를 받아 "차량 이름 : 위치"의 형태로 리턴하는 getProgressOfCar()
  - 차량의 현재 위치인 정수값을 받아, 그 갯수만큼의 "-"로 리턴하는 displayLocationToUI()
  - 우승자 정보를 받아, 조건의 형태인 문자열로 변환해주는 getWinners()


- [x] 이름들을 입력받아 자동차 리스트로 매핑하는 CarListMaker 클래스
  - 입력된 차량 이름들인 문자열을 자동차 리스트로 변환하여 반환합니다.

  
- [x] 게임에 필요한 입력을 받아들이는 InputProvider 클래스
  - 차량 이름들과, 경주 횟수를 입력받아 유효성 검증을 한 뒤 리턴합니다.
  

- [x] 경주 게임을 관리하는 RacingGame 클래스
  - 입력받은 경주 횟수만큼의 반복문을 돌리며,
    RandomNumberGenerator를 이용하여, 차량의 갯수만큼의 랜덤 숫자 리스트를 만들고, 이를 Cars 클래스의 race에 입력합니다.
  - 반복문이 종료되면( = 경주가 끝나면) 최종 우승자를 출력합니다.


- [x] 랜덤한 숫자 리스트를 제공하는 RandomNumberGenerator 클래스
  - 범위와 갯수를 받아, 그 범위의 갯수만큼의 숫자들로 이루어진 정수 리스트를 반환합니다.

---

## 테스트 구현 사항
- [x] 주어진 Application 클래스의 테스트 : 통과

- [x] Car 클래스의 테스트
  - 0부터 9까지의 모든 숫자를 moveForward에 넣고, 4 이상인 경우에만 위치값이 1 증가하였는지 확인합니다.


- [x] CarLocation 클래스의 테스트
  - 위치값으로 음수를 넣었을 때, 정확한 예외 메시지를 출력하며 예외를 발생시키는지 확인합니다.


- [x] CarName 클래스의 테스트
  - 0글자의 이름과, 6글자의 이름을 넣었을 때, 정확한 예외 메시지를 출력하며 예외를 발생시키는지 확인합니다.


- [x] Cars 클래스의 테스트
  - 문자열로 된 차량 이름들을 생성자의 입력으로 넣었을 때, 정확한 Cars 객체를 얻어내는지 확인합니다.
  - 3개의 차량을 준비하고, 3개의 차량을 1번씩 전진시키는 모든 경우의 수에 대해 정확히 전진하는지 확인합니다.
  - 마찬가지로, 3개의 차량을 1번씩 전진시키는 모든 경우의 수에 대해, 우승자 리스트를 정확히 찾아내는지 확인합니다.


- [x] InputProvider 클래스의 테스트
  - 1글자부터 5글자까지의 이름들과, 1 이상의 정수값인 전진 횟수를 넣었을 때 예외를 발생시키지 '않음'을 확인합니다.
  - 다양한 유효하지 않은 이름들과, 전진 횟수를 넣었을 때 해당되는 예외 메시지를 정확히 출력하는지 확인합니다. 


- [x] RaceResult 클래스의 테스트
  - 5개의 차량을 각각 (1, 3, 2, 3, 1)번 전진시킨 Cars 객체와 준비하고, 10번 전진시킨 하나의 Car 객체를 준비합니다.
  - 10번 전진시킨 Car 객체에 대한 경주 상태가 정확히 출력되는지 확인합니다.
  - (1, 3, 2, 3, 1)번 전진시킨 5개의 차량에 대한 경주 상태가 정확하게 출력되는지 확인합니다.
  - 위의 5개의 차량중 우승자는 2,4번째 차량이며, 우승 메시지가 정확하게 출력되는지 확인합니다.


- [x] RacingGame 클래스의 테스트
  - 테스트를 위해 RandomNumberGenerator를 파라미터로 받는 생성자를 추가로 RacingGame 클래스에 정의하였습니다.
  - 3개의 차량을 전진시키며, 그때의 결과가 정확하게 출력되고 게임이 종료되는지 확인합니다.


- [x] CarListMaker 클래스의 테스트
  - 입력된 문자열 형태의 차량 이름들을 정확히 자동차 리스트로 매핑하는지 확인합니다.


- [x] RandomNumberGenerator 클래스의 테스트
  - 범위에 대한 것은 라이브러리를 사용하기에 테스트하지 않습니다.
  - 입력된 '갯수'만큼의 랜덤 숫자 리스트를 정확하게 리턴하는지 확인합니다.


- [x] Validator 클래스의 테스트
  - 위의 각각의 클래스에서 예외 처리에 대한 부분은 검증하였으므로, 별도의 테스트 코드를 작성하지 않았습니다.

---

## 실행 결과 예시
    경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)
    pobi,woni,jun
    시도할 회수는 몇회인가요?
    5
    
    실행 결과
    pobi : -
    woni :
    jun : -
    
    pobi : --
    woni : -
    jun : --
    
    pobi : ---
    woni : --
    jun : ---
    
    pobi : ----
    woni : ---
    jun : ----
    
    pobi : -----
    woni : ----
    jun : -----
    
    최종 우승자 : pobi, jun