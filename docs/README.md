# 1. 기능 구현 전 필요한 전체적인 내용
기능 구현전 설계에 필요한 내용에 대해 고민 해보았다.
1. 어떻게 패키지 분류를 해야 하는가?
    - 1주차 과제를 마치고 MVC패턴에 맞춰 구현된 코드에 확신이 없었다. 그래서 테코톡 MVC강의를 보게 되었고 다음 5가지 원칙에 맞추어 이번 과제를 구현할 예정이다.
        1) Model 은 Controller와 View에 의존하지 말아야 한다. 즉 모델 내부에 Controller와 View에 관련된 코드가 있으면 안된다. 즉 Controller와, View에 클래스를 import하지 않는다.
        2) View는 Model에만 의존하고, Controller에 의존하지 않는다. 즉 View 내부에는 Model의 코드만 있을 수 있다.
        3) View가 Model로부터 데이터를 받을 때는 사용자마다 다르게 보여주어야 하는 데이터에 대해서만 받아야 한다. 즉 모든 사용자에게 공통적으로 보여 주는 부분은 모델에서 받는 것이 아닌 뷰 자체에 있어야 한다.
        4) Controller는 Model과 View에 의존해도 된다.
        5) View가 Model로부터 데이터를 받을 때는 Controller에서 받아야 한다.

# 2. 이전 과제에서의 성장
- 이전 과제에서 데이터를 담아두는 필드 값을 전역으로 설정해 두어 새로운 값이 들어왔을 때 이전 값을 초기화하기 위한 함수를 사용하였다.
  또한 dto에 set메소드를 추가하여 dto를 재사용할 수 있게 설정해 두어 객체의 데이터 값이 쉽게 변화하고 이로 인해 함수를 추가하는 등의 신경써야 할 점을 느꼈다.
- 이번 과제를 시작하기 전 List 생성을 공부하는 과정에서 객체의 불변성의 이점을 느꼈고 이번 과제에서는 dto와 모든 필드값을 다 클래스에 생성하지 않고 적절히 메소드 내부로 이동하여 변수 값을 사용할 예정이다.
- 이 두가지를 통해 객체와 필드값의 데이터 변화에 좀 더 신경을 쓰고 개발을 할 계획이다.

# 3. 기능 명세서
## controller
### 1.UserInput
1) 경주할 자동차 이름 문자열로 입력받는다. ✅
2) 문자열로 입력받은 자동차 이름을 쉼표를 기준으로 구분하여 리스트에 담는다.✅
    - 문자열을 쉼표를 기준으로 바로 add()메소드를 통해 리스트에 값을 대입해야 하므로 다음과 같이 List<String> carNameList = new ArrayList<>() 생성자를 이용하여 리스트를 만들 계획이다.
    - (다른 Arrays.asList()나 List.of()를 사용하게 되면 불변성의 이점은 있지만, 리스트에 값을 대입하는 과정에서 add()메소드를 사용할 수 없기 때문에 생성자로 리스트를 만들기로 결정하였다.)
    - ✋23.10.30 수정: List.of()의 인자로 carsName.split(",")이 사용 가능함을 알고 add()메소드가 필요 없다고 깨달아 List.of를 이용하여 불변리스트로 생성하기로 결정
3) 시도할 횟수를 입력 받는다. ✅

    - 공백 입력시 Null값 예외처리 할 수 있도록 정수형 변수 int 대신에 래퍼 클래스인 Integer를 사용할 계획
    - ✋23.10.31 수정: 엔터 입력시 Null값이 들어온다고 판단하여 래퍼 클래스인 Integer를 사용하기로 하였는데, 키 입력으로는 Null값이 반환되지 않는다는 점을 공부하여 int형으로 사용하기로 결정
4) 사용자 입력을 바탕으로 자동자 이름 리스트와 경기 실행 횟수를 dto에 담아 반환한다. ✅

### 2.GameManager
1) 게임 실행에 대한 정보 (자동차 이름 리스트, 경기 실행 횟수)를 사용자 입력을 토대로 받아온다. ✅
2) 받아온 정보 중에 자동차 이름을 key값으로 하고 전진 횟수를 value값으로 하는 LinkedHashMap을 사용하여 각각의 자동차 이름과 int형 숫자 0을 맵에 초기화한다.

    - key,value로 저장하는 것이 접근하기 용이하다고 판단되어 map을 이용하기로 결정하였고, 입력된 순서로 결과 값이 출력되는 프로그램의 특성상, 접근 시에도 입력한 순서대로 접근하는 것이 좋을 것 같아 인덱싱에 용이한 LinkedHashMap을 사용하기로 결정.
3) 반복문을 사용하여 각 차이름을 순회하면서 랜덤값을 RandomNumber 클래스에서 받아온다.
4) 받아온 랜덤값을 바탕으로 각각의 자동차의 전진 회수를 value값에 초기화한다.
5) 한번의 경기 실행이 끝날 때마다 전진횟수를 출력한다.
6) 경기 실행 횟수만큼 반복한다.
7) 레이싱 게임이 완료되고 Judgement 클래스로 dto를 이용하여 데이터를 보내 우승자를 판별하여 반환받는다.
8) 우승자를 출력하고 레이싱 게임을 종료한다.

### 3. RandomNumber
1) 0에서 9 사이의 랜덤 값을 생성하고 반환한다.

### 4. Judgement
1) 자동차가 부여받은 랜덤값이 4이상인지를 판단하여 전진 여부를 판단한다.
2) 자동차 이름과 전진 횟수를 담은 Map을 dto로 받아 가장 많이 전진한 사용자를 문자열을 반환한다.
3) 우승자가 중복된 경우 ,로 구분하여 문자열로 반환한다.

### 5. InputException
1) 자동차 이름 입력시 예외처리
    - 문자열이 공백인 경우 예외처리✅
    - 문자열의 맨 처음과 끝이 쉼표인 경우 예외처리✅
    - 전체 문자열에서 연속된 쉼표가 나오는 경우✅
    - 동일한 자동차 이름 입력시 예외처리✅
    - 자동차 이름의 길이가 1이상 5이하가 아닌 경우 예외처리✅
    - 문자가 아닌 다른 키값을 받은 경우(예를 들어, ctrl 조합키) 예외처리


2) 경기 실행 횟수 입력시 예외처리
    - 숫자가 아닌 경우 예외처리
    - 양의 정수가 아닌 경우 예외처리

## model

- 이전 과제의 피드백을 받은 후, 모델을 구성하는 과정에서 dto의 필드 값들을 최소화 하는 것이 MVC 패턴의 취지에 맞다고 생각하게 되었다.
- 다른 구성요소들에서 필요한 데이터만 알 수 있게, 피드값들을 최소화 하여 dto를 구성하였다.

### 1. GameSettingsDto✅
- 게임 실행시 필요한 정보인 자동차 이름 리스트, 경기 실행 횟수를 설정하고 반환하는 dto

### 2. RandomNumberDto
- 0에서 9 사이의 랜덤 값을 설정하고 반환하는 dto

### 3. CarsInformationDto
- key,value가 각각 자동차 이름과 전진 횟수인 Map 값을 설정하고 반환하는 dto

### 4. WinnerDto
- 우승자 정보를 문자열로 설정하고 반환하는 dto

## view

### 1. UserView
1) 자동차 이름 입력 프롬포트 메시지를 출력한다.
2) 경기 실행 횟수 입력 프롬포트 메시지를 출력한다.
3) "실행결과"를 출력한다.
4) 자동차 이름과 전진 횟수를 저장한 Map 자료구조를 dto로 받아 경기당 누적 전진 횟수를 자동차 이름과 함께 출력한다.
5) 최종 우승자를 출력한다.

## utility

### 1. Constants
- 프로그램 실행에 반복적으로 등장하는 문장을 Constants 클래스에 상수로 선언한다.