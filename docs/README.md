# 2주차 과제 개발 설계
## 📌목표

- MCV 패턴 원칙 정하기
- 테스트 코드 작성법을 제대로 익히고 사용하자
- 모듈은 하나의 기능 단위가 아닌 **하나의 행동**으로 간결히 만들자
- **javadocs 작성**하여 코드 가독성을 높이자

---

## 🖥️기능 목록
- **게임시작**
    - 게임의 전체적인 흐름을 컨트롤하는 역할
- **자동차 게임 실행**
    - 자동차 게임이 실행되는 흐름을 컨트롤하는 역할
- **경주 할 자동차 이름 받아오기**
    - split(”,”) 사용해서 이름 구분
    - List<자동차>에 담기
    - 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시킨 후 애플리케이션은 종료
- **자동차 유효성 검사**
    - 숫자만 있을 경우 안되는건가?
    - trim() / 쉼표(,)로 나눴는지 / 5자이하인지
- **사용자 시도 횟수 받아오기**
    - static final
    - 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시킨 후 애플리케이션은 종료
- **시도 횟수 유효성 검사**
    - 숫자만 가능
    - 숫자의 범위는?
- **사용자 시도 횟수 실행 때 마다 줄이기**
- **전진 가능한 랜덤 수 얻기**
    - 0에서 9 사이에서 무작위 값
    - 입력된 차동차들 각각 랜덤 수가 필요하다
- **전진 랜덤 수 판단하기**
    - 무작위 값이 4 이상일 경우 전진(**한칸**)
    - 3까지는 전진 안함
- **자동차 실행 결과 가공**
    - 사용자에게 실행 결과를 화면에 보여준다.
- **우승자 판단하기**
    - 각 자동차 마다 `stepCount`가 가장 높은 자동차
- **우승자 결과 데이터 가공하기**
    - 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분
    - 사용자에게 실행 결과를 화면에 보여준다.
- **StringUtils 클래스**
    - 문자열 → 숫자 변환
- **게임 메세지**
    - Enum 타입으로 MessageType
    - `경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)`
    - `시도할 회수는 몇회인가요?`
    - `실행 결과`
    - `{자동차명} : {전진횟수}`
    - `최종 우승자 : {우승 자동차}`
- **일반 메세지 보여주기**

---

## 👾아키텍처 설계

### Model
- Model은 View의 존재를 모른다.
- 오직 데이터의 가공과 모델의 비즈니스 로직 처리에만 책임이 있다.
- 비즈니스 로직을 처리하는 곳은 세부사항이다. 세부사항은 변경이 잦은 곳이기 때문에 다른 계층에 영향력을 전파하기 쉽다.

```java
class Car
	name
	stepCount
	
	경주 할 자동차 이름 받아오기()
	전진 가능한 랜덤 수 얻기()
	전진 랜덤 수 판단하기()
```

```java
class Game
	List<자동차>
	static final tryCount

	사용자 시도 횟수 받아오기()
	사용자 시도 횟수 실행 때 마다 줄이기()
	우승자 판단하기()
```

### Service

서비스 계층을 도입한 이유는 Model 계층을 간결하게 유지하고, 변경이 잦기 때문에 다른 계층의 전파를 낮추기 위함이다.

- **도메인 모델 분리**: 각 도메인 모델은 자신의 역할에 집중히여 비즈니스 로직을 처리할 수 있다.
- **다양한 모델 간의 중재**: 모델들 간의 상호 작용을 처리(데이터 매핑)하여 결합도를 낮춘다.
- **유지 보수성 향상**: 비즈니스 로직을 중앙집중화 하기 때문에 비즈니스 규칙이 변경되거나 업데이트 되어야 하는 경우 Service 계층에서만 로직을 수정하면 된다.

```java
class GameService
	Game 객체
	Car 객체

	자동차 게임 실행()
```

### View

- View는 Model의 존재를 모른다.
- 사용자 입력에 대한 유효성 검증을 처리한 후 Controller에 전달
- 모델의 데이터를 사용자에게 표시하는 역할

```java
class InputView
	자동차 유효성 검사()
	시도 횟수 유효성 검사()
```

```java
class OutputView
	일반 메세지 보여주기()
	게임 메세지(Enum MessageType)
	자동차 실행 결과 가공()
	우승자 결과 데이터 가공하기()
```

### Controller

- Model과 View의 존재를 안다
- 컨트롤러는 Model과 View에게 액션을 취하도록 하는 역할로 가장 직관적이고, 간단해야 한다.

```java
class CarController
	InputView 객체
	OutputView 객체
	GameService 객체

	게임 시작(){
		/*
		경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)
		pobi,woni,jun
		시도할 회수는 몇회인가요?
		5
	
		실행 결과
		자동차 게임 실행()
		
		최종 우승자 : pobi, jun
		*/
	}
```
