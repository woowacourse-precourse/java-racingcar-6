# 우테코 과제 2주차

---

## Racingcar

### 목표

- 초간단 카 레이싱 게임을 만든다.

- 단순 기능 구현을 넘어서, 독립시켜도 좋은 기능들은 함수로 분리하여 생산성을 높이자.

- Depth를 2이하로 유지하며 코드를 작성한다.

- 함수별로 테스트가 가능하도록 만들자.

### 기능 순서

- 이름 목록을 입력받는다.

- 쉼표를 기준으로 입력된 이름 목록 파싱하여 리스트로 만든다.

  - 각각의 이름은 5글자 이하만 가능하다.

- 시도할 회수를 입력받는다.

- 전진 시도를 입력받은 회수만큼 수행한다.

  - 각 자동차 마다 0부터 9사이의 무작위 값을 구한 후 값이 4 이상일 경우 전진한다.

- 가장 많이 전진한 자동차는 우승자 리스트에 넣는다.

  - 우승자는 한 명 이상이다.

- 우승자 리스트를 출력한다.

  - 우승자가 두 명 이상일 경우, 쉼표로 구분하여 출력한다.

- 이 모든 과정 중, 잘못된 값을 입력하는 경우 `illegalArgumentException`을 발생시킨 후 종료한다.

### 기능 목록

1. func) 이름 목록 입력 받아 파싱한 후, LinkedHashMap에 {이름 : 현재 위치(default = 0)}의 형식으로 객체를 생성한다.

- 유효성 검사 - 각 이름의 길이가 5자 이하여야 함.

2. func) 각 자동차의 전진 시도. 랜덤 값을 받아와 4이상일 경우 LinkedHashMap에 등록된 자동차의 value 값을 1증가 시킨다.

3. func) 입력받은 LinkedHashMap에 따라 실행 결과를 출력한다.

- 3.1 func) 맵의 value에 따라 '-'를 반복, String으로 만들어 반환한다.

4. func) 가장 높은 value를 가진(가장 많이 전진한) key를 리스트로 반환한다.

5. main) 메인 서비스 로직.

- 이름 입력 요구를 출력

- 이름 입력 받기 (String)

- 시도 회수 요구를 출력

- 시도 회수 입력 받기(Integer)

  - func) 유효성 검사 - 입력값이 -1 이하일 경우 종료

- 전진 시도 반복 및 반복마다 실행 결과 출력

- 최종 우승 결과를 반환 받아 출력한다.

6. test) 이러한 기능들에 대한 테스트 함수

### 구현 전 생각

- 함수를 위와 같이 설계한 이유는 다음과 같다.

1. 여러번 호출 가능성이 있으며,

2. 결과적으로 하나의 로직을 수행하는 독립 가능한 코드.

- 전체 기능은 main에서 실행되므로, 기능의 흐름을 위한 부분(입력값을 받기 위해 설명문을 출력하고, 함수로 반환받은 값을 출력하는 부분들)은 main내에서 동작하도록 만들었다.

- test는 제작해본 적이 없었으므로, study를 통해 학습한 후 진행한다.

### 구현 중 생각

- 반복 시행과 value up을 한 함수 안에 전부 넣으면 3 depth가 필요했다. 시행 횟수에 따른 반복은 main에서 구현하거나, 따로 함수를 만들면 될 것 같으나, 함수를 만드는 것은 상당히 의미없는 기능일 것 같다.

- python을 생각하고, String \* Integer를 통해 쉽게 반복된 문자열을 만들려고 했으나, java는 따로 함수를 만들 필요가 있었다. 따라서 3-1 함수를 추가해야한다.

- Map의 value 배열에서 가장 큰 값을 찾는 것이 생각보다 어려웠다. for문을 통해 직접 최대값을 저장하고 일일이 비교하는 방법을 쓸 수도 있었겠으나, 숫자 배열 또는 리스트의 최대값을 찾는 다른 방법이 없을리 없다는 생각에 일단 여러 방법을 찾았다.

  - Stream()의 max 메서드를 활용하는 방법을 선택했는데, `Integer::compareTo`라는, 비교함수(comparator)의 개념을 이해하는 것이 어려웠다. python에서 일반적으로 sort()메서드를 쓸 때, key 값으로 들어가는 람다식으로 생각하면 그나마 이해가 가는 편이었다.

- 메서드와 함수를 단위별로 테스트하려고 하니, Map 객체를 여기저기서 새로 만들고 넣어줘야 했다. 그래서 Test 코드 안에서 사용할 표준 객체를 생성할 수 있는 메서드를 만들었고, 이를 통해 private가 왜 필요한지도 깨달을 것 같다.

- return 값이 없이 출력만 하는 메서드는 테스트를 진행하기 확실히 어려웠다. 다만, 테스트를 위해 리턴 값이 필요없는 메서드에서 의도적으로 리턴 값을 집어넣는 것은 불필요하지 않을까 고민하게 되었다.
